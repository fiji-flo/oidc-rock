image:
  repository: ghcr.io/michaelvanstraten/oidc-rock
  pullPolicy: IfNotPresent
  tag: ""

# Application configuration
app:
  # Port the application listens on inside the container
  port: 3080
  # Host the application binds to (0.0.0.0 for container environments)
  host: "0.0.0.0"
  # Base URL for the OIDC provider (e.g., https://oidc.example.com)
  # Used for issuer and callback URLs. If empty, must set oidc.issuer explicitly
  baseUrl: ""

# OIDC Provider Configuration
oidc:
  # Issuer URL - if empty, will use app.baseUrl
  issuer: ""
  signing_key: "your-secret-signing-key-change-this-in-production-make-it-long-and-random"
  token_expiry_seconds: 3600
  supported_scopes:
    - "openid"
    - "profile"
    - "email"
    - "offline_access"
  supported_response_types:
    - "code"
  supported_grant_types:
    - "authorization_code"
    - "refresh_token"

# Test users for the OIDC provider
users:
  - username: "testuser"
    password: "password"
    email: "test@example.com"
    name: "Test User"
    given_name: "Test"
    family_name: "User"
    picture: "https://via.placeholder.com/150"
    claims:
      department: "Engineering"
      role: "Developer"
      employee_id: "12345"

  - username: "alice"
    password: "alice123"
    email: "alice@example.com"
    name: "Alice Johnson"
    given_name: "Alice"
    family_name: "Johnson"
    claims:
      department: "Marketing"
      role: "Manager"
      employee_id: "67890"

  - username: "bob"
    password: "bob123"
    email: "bob@example.com"
    name: "Bob Smith"
    given_name: "Bob"
    family_name: "Smith"
    picture: "https://via.placeholder.com/150/0000FF/808080"
    claims:
      department: "Sales"
      role: "Representative"
      employee_id: "54321"

# OIDC clients configuration
clients:
  - client_id: "test-client"
    client_secret: "test-secret"
    client_name: "Test Application"
    redirect_uris:
      - "https://localhost:8000/sso/callback"
      - "http://localhost:8080/callback"
      - "http://localhost:8080/auth/callback"
      - "http://127.0.0.1:8080/callback"
    response_types:
      - "code"
    grant_types:
      - "authorization_code"
      - "refresh_token"
    scopes:
      - "openid"
      - "profile"
      - "email"
      - "offline_access"

nameOverride: ""
fullnameOverride: ""

podAnnotations: {}
podLabels: {}

podSecurityContext: {}

securityContext: {}

# Kubernetes Service configuration
service:
  type: ClusterIP
  # Port exposed by the Kubernetes service
  port: 80

ingress:
  enabled: false
  className: ""
  annotations: {}
  # If hosts is empty, will auto-configure from app.baseUrl
  # Set hosts explicitly to override auto-configuration
  hosts: []
  # hosts:
  #   - host: oidc-rock.local
  #     paths:
  #       - path: /
  #         pathType: Prefix
  # If tls is empty and app.baseUrl uses https://, will auto-configure TLS
  tls: []
  # tls:
  #   - secretName: oidc-rock-tls
  #     hosts:
  #       - oidc-rock.local

httpRoute:
  enabled: false
  annotations: {}
  parentRefs:
    - name: gateway
      sectionName: http
  # If hostnames is empty, will auto-configure from app.baseUrl
  # Set hostnames explicitly to override auto-configuration
  hostnames: []
  # hostnames:
  #   - oidc-rock.local
  # If rules is empty, will auto-configure from app.baseUrl path
  # Set rules explicitly to override auto-configuration
  rules: []
  # rules:
  #   - matches:
  #       - path:
  #           type: PathPrefix
  #           value: /

resources: {}

livenessProbe:
  httpGet:
    path: /
    port: http
readinessProbe:
  httpGet:
    path: /
    port: http

nodeSelector: {}

tolerations: []

affinity: {}
